1. Instalacja Apache
apt-get install apache2
apt-get install libapache2-mod-wsgi
a2enmod wsgi alias headers deflate
#zmieniamy /etc/apache2/sites-enables/000-default jak na VM
#ustawiamy ACLe na projekcie django tak, aby mial do nich dostep demon apache (uzytkownik www-data)
service apache2 restart

2. Instalacja django ...
# django
apt-get install django?
# djcelery
apt-get install python-pip
pip install django-celery
# rabbitmq
apt-get install rabbitmq-server

3. HandlerSocket
# niestety nie działa: apt-get install handlersocket-mysql-5.1
# gdyż coś znóbili w tej wersji, która jest w repo
# trzeba:
apt-get install mysql-server
apt-get install mysql-source-5.1
apt-get install libtool
apt-get install automake
apt-get install libmysqlclient-dev
cd /usr/src/mysql
tar xvvf mysql-source-5.1.tar.gz

git clone git://github.com/ahiguti/HandlerSocket-Plugin-for-MySQL.git
# przepisane z https://github.com/ahiguti/HandlerSocket-Plugin-for-MySQL/blob/master/docs-en/installation.en.txt#L70
./autogen.sh
./configure --with-mysql-source=/usr/src/mysql/mysql-5.1 --with-mysql-bindir=/usr/bin --with-mysql-plugindir=/usr/lib/mysql/plugin
make
sudo make install

# Dodać na koniec pliku /etc/mysql/my.cnf
[mysqld]
loose_handlersocket_port = 9998
# the port number to bind to (for read requests)
loose_handlersocket_port_wr = 9999
# the port number to bind to (for write requests)
loose_handlersocket_threads = 16
# the number of worker threads (for read requests)
loose_handlersocket_threads_wr = 1
# the number of worker threads (for write requests)
open_files_limit = 65535
# to allow handlersocket accept many concurrent
# connections, make open_files_limit as large as
# possible.

# Potem mysql na roota np. mysql --user=root --password=kartofel
install plugin handlersocket soname 'handlersocket.so';
# Przetestowanie:
show processlist;

# potrzebne dla python-handler-socket
apt-get install build-essential
apt-get install python-dev
pip install python-handler-socket
